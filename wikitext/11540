In probability theory and statistics, the variance is a measure of how far a set of numbers is spread out. It is one of several descriptors of a probability distribution, describing how far the numbers lie from the mean (expected value). In particular, the variance is one of the moments of a distribution. In that context, it forms part of a systematic approach to distinguishing between probability distributions. While other such approaches have been developed, those based on moments are advantageous in terms of mathematical and computational simplicity.
The variance is a parameter describing in part either the actual probability distribution of an observed population of numbers, or the theoretical probability distribution of a sample (a not-fully-observed population) of numbers. In the latter case a sample of data from such a distribution can be used to construct an estimate of its variance: in the simplest cases this estimate can be the sample variance.
Basic discussion.
Examples.
The variance of a random variable or distribution is the expectation, or mean, of the squared deviation of that variable from its expected value or mean. Thus the variance is a measure of the amount of variation of the values of that variable, taking account of all possible values and their probabilities or weightings (not just the extremes which give the range).
For example, a perfect six-sided die, when thrown, has expected value of
Its expected absolute deviation—the mean of the equally likely absolute deviations from the mean—is
But its expected "squared" deviation—its variance (the mean of the equally likely squared deviations)—is
Units of measurement.
Unlike expected absolute deviation, the variance of a variable has units that are the square of the units of the variable itself. For example, a variable measured in inches will have a variance measured in square inches. For this reason, describing data sets via their standard deviation or root mean square deviation is often preferred over using the variance. In the dice example the standard deviation is √2.9 ≈ 1.7, slightly larger than the expected absolute deviation of 1.5.
The standard deviation and the expected absolute deviation can both be used as an indicator of the "spread" of a distribution. The standard deviation is more amenable to algebraic manipulation than the expected absolute deviation, and, together with variance and its generalization covariance, is used frequently in theoretical statistics; however the expected absolute deviation tends to be more robust as it is less sensitive to outliers arising from measurement anomalies or an unduly heavy-tailed distribution.
Estimating the variance.
Real-world distributions such as the distribution of yesterday's rain throughout the day are typically not fully known, unlike the behavior of perfect dice or an ideal distribution such as the normal distribution, because it is impractical to account for every raindrop. Instead one estimates the mean and variance of the whole distribution as the computed mean and variance of a sample of "n" observations drawn suitably randomly from the whole sample space, in this example the set of all measurements of yesterday's rainfall in all available rain gauges.
This method of estimation is close to optimal, with the caveat that it underestimates the variance by a factor of ("n" − 1) / "n". (For example, when "n" = 1 the variance of a single observation is obviously zero regardless of the true variance). This gives a bias which should be corrected for when "n" is small by multiplying by "n" / ("n" − 1). If the mean is determined in some other way than from the same samples used to estimate the variance then this bias does not arise and the variance can safely be estimated as that of the samples.
To illustrate the relation between the population variance and the sample variance, suppose that in the (not entirely observed) population of numerical values, the value 1 occurs 1/3 of the time, the value 2 occurs 1/3 of the time, and the value 4 occurs 1/3 of the time. The population mean is (1/3)= 7/3. The equally likely deviations from the population mean are 1 − 7/3, 2 − 7/3, and 4 − 7/3. The population variance — the expected squared deviation from the mean 7/3 — is (1/3)[(−4/3)2 + (−1/3)2 + (5/3)2 = 14/9. Now suppose for the sake of a simple example that we take a very small sample of "n" = 2 observations, and consider the nine equally likely possibilities for the set of numbers within that sample: (1, 1), (1, 2), (1,4), (2, 1), (2,2), (2, 4), (4,1), (4, 2), and (4, 4). For these nine possible samples, the sample variance of the two numbers is respectively 0, 1/4, 9/4, 1/4, 0, 4/4, 9/4, 4/4, and 0. With our plan to observe two values, we could end up computing any of these sample variances (and indeed if we hypothetically could observe a pair of numbers many times, we would compute each of these sample variances 1/9 of the time). So the expected value, over all possible samples that might be drawn from the population, of the computed sample variance is (1/9)+ 1/4 + 9/4 + 1/4 + 0 + 4/4 + 9/4 + 4/4 + 0 = 7/9. This value of 7/9 for the expected value of our sample variance computation is a substantial underestimate of the true population variance, which we computed as 14/9, because our sample size of just two observations was so small. But if we adjust for this downward bias by multiplying our computed sample variance, whichever it may be, by "n"/("n" − 1) = 2/(2 − 1) = 2, then our estimate of the population variance would be any one of 0, 1/2, 9/2, 1/2, 0, 4/2, 9/2, 4/2, and 0. The average of these is indeed the correct population variance of 14/9, so on average over all possible samples we would have the correct estimate of the population variance.
The variance of a real-valued random variable is its second central moment, and it also happens to be its second cumulant. Just as some distributions do not have a mean, some do not have a variance. The mean exists whenever the variance exists, but the converse is not necessarily true.
Definition.
Continuous random variable.
If the random variable "X" is continuous with probability density function "f"("x"), then the variance equals the second central moment, given by
where formula_9 is the expected value,
and where the integrals are definite integrals taken for "x" ranging over the range of "X".
If a continuous distribution does not have an expected value, as is the case for the Cauchy distribution, it does not have a variance either. Many other distributions for which the expected value does exist also do not have a finite variance because the integral in the variance definition diverges. An example is a Pareto distribution whose index "k" satisfies .
Discrete random variable.
If the random variable "X" is discrete with probability mass function "x"1 ↦ "p"1, ..., "x""n" ↦ "p""n", then
where formula_9 is the expected value, i.e.
(When such a discrete weighted variance is specified by weights whose sum is not 1, then one divides by the sum of the weights.) That is, it is the expected value of the square of the deviation of "X" from its own mean. In plain language, it can be expressed as "The mean of the squares of the deviations of the data points from the average". It is thus the "mean squared deviation".
Examples.
Exponential distribution.
So for an exponentially distributed random variable σ2 = μ2.
Properties.
Basic properties.
Variance is non-negative because the squares are positive or zero.
The variance of a constant random variable is zero, and if the variance of a variable in a data set is 0, then all the entries have the same value.
Variance is invariant with respect to changes in a location parameter. That is, if a constant is added to all values of the variable, the variance is unchanged. 
If all values are scaled by a constant, the variance is scaled by the square of that constant. 
The variance of a finite sum of "uncorrelated" random variables is equal to the sum of their variances. This stems from the above identity
and the fact that for uncorrelated variables the covariance is zero; that is, if
then
Sum of uncorrelated variables (Bienaymé formula).
This statement is called the Bienaymé formula. and was discovered in 1853. It is often made with the stronger condition that the variables are independent, but uncorrelatedness suffices. So if all the variables have the same variance σ2, then, since division by "n" is a linear transformation, this formula immediately implies that the variance of their mean is
That is, the variance of the mean decreases when "n" increases. This formula for the variance of the mean is used in the definition of the standard error of the sample mean, which is used in the central limit theorem.
Product of independent variables.
If two variables X and Y are independent, the variance of their product is given by
Sum of correlated variables.
Here Cov is the covariance, which is zero for independent random variables (if it exists). The formula states that the variance of a sum is equal to the sum of all elements in the covariance matrix of the components. This formula is used in the theory of Cronbach's alpha in classical test theory.
So if the variables have equal variance σ2 and the average correlation of distinct variables is ρ, then the variance of their mean is
This implies that the variance of the mean increases with the average of the correlations. Moreover, if the variables have unit variance, for example if they are standardized, then this simplifies to
This formula is used in the Spearman–Brown prediction formula of classical test theory. This converges to ρ if "n" goes to infinity, provided that the average correlation remains constant or converges too. So for the variance of the mean of standardized variables with equal correlations or converging average correlation we have
Therefore, the variance of the mean of a large number of standardized variables is approximately equal to their average correlation. This makes clear that the sample mean of correlated variables does generally not converge to the population mean, even though the Law of large numbers states that the sample mean will converge for independent variables.
Weighted sum of variables.
The scaling property and the Bienaymé formula, along with this property from the covariance page: Cov("aX", "bY") = "ab" Cov("X", "Y") jointly imply that
This implies that in a weighted sum of variables, the variable with the largest weight will have a disproportionally large weight in the variance of the total. For example, if "X" and "Y" are uncorrelated and the weight of "X" is two times the weight of "Y", then the weight of the variance of "X" will be four times the weight of the variance of "Y".
Decomposition.
The general formula for variance decomposition or the law of total variance is: If formula_39 and formula_40 are two random variables and the variance of formula_39 exists, then
Here, formula_43 is the conditional expectation of formula_39 given formula_40, and formula_46 is the conditional variance of formula_39 given formula_40. (A more intuitive explanation is that given a particular value of formula_40, then formula_39 follows a distribution with mean formula_43 and variance formula_46. The above formula tells how to find formula_53 based on the distributions of these two quantities when formula_40 is allowed to vary.) This formula is often applied in analysis of variance, where the corresponding formula is
here formula_56 refers to the Mean of the Squares. It is also used in linear regression analysis, where the corresponding formula is
This can also be derived from the additivity of variances, since the total (observed) score is the sum of the predicted score and the error score, where the latter two are uncorrelated.
Formulae for the variance.
This will be useful when it is possible to derive formulae for the expected value and for the expected value of the square.
This formula is also sometimes used in coonection with the sample variance. While useful for hand calculations, it is not advised for computer calculations as it suffers from catastrophic cancellation if the two components of the equation are similar in magnitude and floating point arithmetic is used. This is discussed below.
Calculation from the CDF.
The population variance for a non-negative random variable can be expressed in terms of the cumulative distribution function "F" using
where "H"("u") = 1 − "F"("u") is the right tail function. This expression can be used to calculate the variance in situations where the CDF, but not the density, can be conveniently expressed.
Characteristic property.
The second moment of a random variable attains the minimum value when taken around the first moment (i.e., mean) of the random variable, i.e. formula_63. Conversely, if a continuous function formula_64 satisfies formula_65 for all random variables "X", then it is necessarily of the form formula_66, where . This also holds in the multidimensional case.
Approximating the variance of a function.
The delta method uses second-order Taylor expansions to approximate the variance of a function of one or more random variables: see Taylor expansions for the moments of functions of random variables. For example, the approximate variance of a function of one variable is given by
provided that "f" is twice differentiable and that the mean and variance of "X" are finite.
Population variance and sample variance.
In general, the population variance of a "finite" population of size "N" is given by
where
is the population mean, and
In many practical situations, the true variance of a population is not known "a priori" and must be computed somehow. When dealing with extremely large populations, it is not possible to count every object in the population.
and
The first estimator, also known as the second central moment, is called the biased sample variance. The second estimator is called the unbiased sample variance. Either estimator may be simply referred to as the sample variance when the version can be determined by context. Here, formula_82 denotes the sample mean: 
"n"2 and "s"2 at the press of a button, in which case that button is usually labeled σ2 or σn2 for "s""n"2 and σ"n"−12 for "s"2. -->
The two estimators only differ slightly as can be seen, and for larger values of the sample size "n" the difference is negligible. While the first one may be seen as the variance of the sample considered as a population, the second one is the unbiased estimator of the population variance, meaning that its expected value E["s"2] is equal to the true variance of the sampled random variable; the use of the term "n" − 1 is called Bessel's correction. In particular, 
while, in contrast,
The unbiased sample variance is a U-statistic for the function "ƒ"("x"1, "x"2) = ("x"1 − "x"2)2/2, meaning that it is obtained by averaging a 2-sample statistic over 2-element subsets of the population.
Distribution of the sample variance.
As a direct consequence, it follows that E("s"2)  = "σ"2.
where "M" is the maximum of the sample, "A" is the arithmetic mean, "H" is the harmonic mean of the sample and "Var" is the variance of the sample.
This bound has been improved on and it is known that variance is bounded by
where "m" is the minimum of the sample.
Generalizations.
If formula_39 is a vector-valued random variable, with values in formula_91, and thought of as a column vector, then the natural generalization of variance is formula_92, where formula_93 and formula_94 is the transpose of formula_39, and so is a row vector. This variance is a positive semi-definite square matrix, commonly referred to as the covariance matrix.
If formula_39 is a complex-valued random variable, with values in formula_97, then its variance is formula_98, where formula_99 is the conjugate transpose of formula_39. This variance is also a positive semi-definite square matrix.
Tests of equality of variances.
Testing for the equality of two or more variances is difficult. The F test and chi square tests are both sensitive to non normality and are not recommended for this purpose. 
Several non parametric tests have been proposed: these include the Barton-David-Ansari-Fruend-Siegel-Tukey test, the Capon test, Mood test, the Klotz test and the Sukhatme test. The Sukhatme test applies to two variances and requires that both medians be known and equal to zero. The Mood, Klotz, Capon and Barton-David-Ansari-Fruend-Siegel-Tukey tests also apply to two variances. They allow the median to be unknown but do require that the two medians are equal. 
The Lehman test is a parametric test of two variances. Of this test there are several variants known. Other tests of the equality of variances include the Box test, the Box-Anderson test and the Moses test.
Resampling methods, which include the bootstrap and the jackknife, may be used to test the equality of variances.
History.
\theta_1</math> and formula_101, it is found that the distribution, when both causes act together, has a standard deviation formula_102. It is therefore desirable in analysing the causes of variability to deal with the square of the standard deviation as the measure of variability. We shall term this quantity the Variance...
Moment of inertia.
The variance of a probability distribution is analogous to the moment of inertia in classical mechanics of a corresponding mass distribution along a line, with respect to rotation about its center of mass. It is because of this analogy that such things as the variance are called "moments" of probability distributions. The covariance matrix is related to the moment of inertia tensor for multivariate distributions. The moment of inertia of a cloud of "n" points with a covariance matrix of formula_73 is given by
This difference between moment of inertia in physics and in statistics is clear for points that are gathered along a line. Suppose many points are close to the "x" axis and distributed along it. The covariance matrix might look like
That is, there is the most variance in the "x" direction. However, physicists would consider this to have a low moment "about" the "x" axis so the moment-of-inertia tensor is
