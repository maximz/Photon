A "t"-test is any statistical hypothesis test in which the test statistic follows a Student's "t" distribution if the null hypothesis is supported. It can be used to determine if two sets of data are significantly different from each other, and is most commonly applied when the test statistic would follow a normal distribution if the value of a scaling term in the test statistic were known. When the scaling term is unknown and is replaced by an estimate based on the data, the test statistic (under certain conditions) follows a Student's "t" distribution.
History.
The t-statistic was introduced in 1908 by William Sealy Gosset, a chemist working for the Guinness brewery in Dublin, Ireland ("Student" was his pen name). Gosset had been hired due to Claude Guinness's policy of recruiting the best graduates from Oxford and Cambridge to apply biochemistry and statistics to Guinness's industrial processes. Gosset devised the "t"-test as a cheap way to monitor the quality of stout. He published the test in "Biometrika" in 1908, but was forced to use a pen name by his employer, who regarded the fact that they were using statistics as a trade secret. In fact, Gosset's identity was known to fellow statisticians.
Assumptions.
Most "t"-test statistics have the form "t" = "Z"/"s", where "Z" and "s" are functions of the data. Typically, "Z" is designed to be sensitive to the alternative hypothesis (i.e., its magnitude tends to be larger when the alternative hypothesis is true), whereas "s" is a scaling parameter that allows the distribution of "t" to be determined.
As an example, in the one-sample "t"-test "Z" = formula_1, where formula_2 is the sample mean of the data, formula_3 is the sample size, and formula_4 is the population standard deviation of the data; "s" in the one-sample "t"-test is formula_5, where formula_4 is the sample standard deviation.
The assumptions underlying a "t"-test are that
Unpaired and paired two-sample "t"-tests.
Two-sample "t"-tests for a difference in mean involve independent samples, paired samples and overlapping samples. Paired "t"-tests are a form of blocking, and have greater power than unpaired tests when the paired units are similar with respect to "noise factors" that are independent of membership in the two groups being compared. In a different context, paired "t"-tests can be used to reduce the effects of confounding factors in an observational study.
Independent samples.
The independent samples "t"-test is used when two separate sets of independent and identically distributed samples are obtained, one from each of the two populations being compared. For example, suppose we are evaluating the effect of a medical treatment, and we enroll 100 subjects into our study, then randomize 50 subjects to the treatment group and 50 subjects to the control group. In this case, we have two independent samples and would use the unpaired form of the "t"-test. The randomization is not essential here—if we contacted 100 people by phone and obtained each person's age and gender, and then used a two-sample "t"-test to see whether the mean ages differ by gender, this would also be an independent samples "t"-test, even though the data are observational.
Paired samples.
Paired samples "t"-tests typically consist of a sample of matched pairs of similar units, or one group of units that has been tested twice (a "repeated measures" "t"-test). 
A typical example of the repeated measures "t"-test would be where subjects are tested prior to a treatment, say for high blood pressure, and the same subjects are tested again after treatment with a blood-pressure lowering medication. By comparing the same patient's numbers before and after treatment, we are effectively using each patient as their own control. That way the correct rejection of the null hypothesis (here: of no difference made by the treatment) can become much more likely, with statistical power increasing simply because the random between-patient variation has now been eliminated. Note however that an increase of statistical power comes at a price: more tests are required, each subject having to be tested twice. Because half of the sample now depends on the other half, the paired version of Student's "t"-test has only 'n/2 - 1' degrees of freedom (with 'n' being the total number of observations). Pairs become individual test units, and the sample has to be doubled to achieve the same number of degrees of freedom.
A paired samples "t"-test based on a "matched-pairs sample" results from an unpaired sample that is subsequently used to form a paired sample, by using additional variables that were measured along with the variable of interest. The matching is carried out by identifying pairs of values consisting of one observation from each of the two samples, where the pair is similar in terms of other measured variables. This approach is sometimes used in observational studies to reduce or eliminate the effects of confounding factors.
Paired samples "t"-tests are often referred to as "dependent samples "t"-tests" (as are "t"-tests on overlapping samples).
Overlapping samples.
An overlapping samples "t"-test is used when there are paired samples with data missing in one or the other samples (e.g., due to selection of "Don't know" options in questionnaires are because respondents are randomly assigned to a subset question). These tests are widely used in commercial survey research (e.g., by polling companies) and are available in many standard crosstab software packages.
Calculations.
Explicit expressions that can be used to carry out various "t"-tests are given below. In each case, the formula for a test statistic that either exactly follows or closely approximates a "t"-distribution under the null hypothesis is given. Also, the appropriate degrees of freedom are given in each case. Each of these statistics can be used to carry out either a one-tailed test or a two-tailed test.
Once a "t" value is determined, a p-value can be found using a table of values from Student's t-distribution. If the calculated p-value is below the threshold chosen for statistical significance (usually the 0.10, the 0.05, or 0.01 level), then the null hypothesis is rejected in favor of the alternative hypothesis.
One-sample "t"-test.
In testing the null hypothesis that the population mean is equal to a specified value "μ"0, one uses the statistic
where formula_8 is the sample mean, "s" is the sample standard deviation of the sample and "n" is the sample size. The degrees of freedom used in this test is "n" − 1.
Slope of a regression line.
Suppose one is fitting the model
where "x""i", "i" = 1, ..., "n" are known, "α" and "β" are unknown, and "ε""i" are independent identically normally distributed random errors with expected value 0 and unknown variance "σ"2, and "Y""i", "i" = 1, ..., "n" are observed. It is desired to test the null hypothesis that the slope "β" is equal to some specified value "β"0 (often taken to be 0, in which case the hypothesis is that "x" and "y" are unrelated).
Let
Then
has a "t"-distribution with "n" − 2 degrees of freedom if the null hypothesis is true. The
can be written in terms of the residuals. Let
Independent two-sample "t"-test.
Equal sample sizes, equal variance.
Violations of these assumptions are discussed below.
where
Here formula_18 is the grand standard deviation (or pooled standard deviation), 1 = group one, 2 = group two. The denominator of "t" is the standard error of the difference between two means.
For significance testing, the degrees of freedom for this test is 2"n" − 2 where "n" is the number of participants in each group.
Unequal sample sizes, equal variance.
where
Note that the formulae above are generalizations of the case where both samples have equal sizes (substitute "n" for "n"1 and "n"2).
formula_18 is an estimator of the common standard deviation of the two samples: it is defined in this way so that its square is an unbiased estimator of the common variance whether or not the population means are the same. In these formulae, "n" = number of participants, 1 = group one, 2 = group two. "n" − 1 is the number of degrees of freedom for either group, and the total sample size minus two (that is, "n"1 + "n"2 − 2) is the total number of degrees of freedom, which is used in significance testing.
Unequal (or equal) sample sizes, unequal variances.
where
Here "s"2 is the unbiased estimator of the variance of the two samples, "ni" = number of participants in group "i", "i"=1 or 2. Note that in this case formula_24 is not a pooled variance. For use in significance testing, the distribution of the test statistic is approximated as an ordinary Student's t distribution with the degrees of freedom calculated using
This is known as the Welch–Satterthwaite equation. The true distribution of the test statistic actually depends (slightly) on the two unknown population variances (see Behrens–Fisher problem).
Dependent "t"-test for paired samples.
This test is used when the samples are dependent; that is, when there is only one sample that has been tested twice (repeated measures) or when there are two samples that have been matched or "paired". This is an example of a paired difference test.
For this equation, the differences between all pairs must be calculated. The pairs are either one person's pre-test and post-test scores or between pairs of persons matched into meaningful groups (for instance drawn from the same family or age group: see table). The average ("XD") and standard deviation ("sD") of those differences are used in the equation. The constant "μ"0 is non-zero if you want to test whether the average of the difference is significantly different from "μ"0. The degree of freedom used is "n" − 1.
Worked examples.
These could be, for example, the weights of screws that were chosen out of a bucket.
We will carry out tests of the null hypothesis that the means of the populations from which the two samples were taken are equal.
The difference between the two sample means, each denoted by formula_29, which appears in the numerator for all the two-sample testing approaches discussed above, is
The sample standard deviations for the two samples are approximately 0.05 and 0.11, respectively. For such small samples, a test of equality between the two population variances would not be very powerful. Since the sample sizes are equal, the two forms of the two sample "t"-test will perform similarly in this example.
Unequal variances.
If the approach for unequal variances (discussed above) is followed, the results are
and
The test statistic is approximately 1.959. The two-tailed test p-value is approximately 0.091 and the one-tailed p-value is approximately 0.045.
Equal variances.
If the approach for equal variances (discussed above) is followed, the results are
and
Since the sample sizes are equal (both are 6), the test statistic is again approximately equal to 1.959. Since the degrees of freedom is different from what it is in the unequal variances test, the p-values will differ slightly from what was found above. Here, the two-tailed p-value is approximately 0.078, and the one-tailed p-value is approximately 0.039. Thus if there is good reason to believe that the population variances are equal, the results become somewhat more suggestive of a difference in the mean weights for the two populations of screws.
Alternatives to the "t"-test for location problems.
The "t"-test provides an exact test for the equality of the means of two normal populations with unknown, but equal, variances. (The Welch's "t"-test is a nearly exact test for the case where the data are normal but the variances may differ.) For moderately large samples and a one tailed test, the "t" is relatively robust to moderate violations of the normality assumption.
For exactness, the "t"-test and Z-test require normality of the sample means, and the "t"-test additionally requires that the sample variance follows a scaled χ2 distribution, and that the sample mean and sample variance be statistically independent. Normality of the individual data values is not required if these conditions are met. By the central limit theorem, sample means of moderately large samples are often well-approximated by a normal distribution even if the data are not normally distributed. For non-normal data, the distribution of the sample variance may deviate substantially from a χ2 distribution. However, if the sample size is large, Slutsky's theorem implies that the distribution of the sample variance has little effect on the distribution of the test statistic. If the data are substantially non-normal and the sample size is small, the "t"-test can give misleading results. See Location test for Gaussian scale mixture distributions for some theory related to one particular family of non-normal distributions.
When the normality assumption does not hold, a non-parametric alternative to the "t"-test can often have better statistical power. For example, for two independent samples when the data distributions are asymmetric (that is, the distributions are skewed) or the distributions have large tails, then the Wilcoxon Rank Sum test (also known as the Mann-Whitney U test) can have three to four times higher power than the "t"-test. The nonparametric counterpart to the paired samples t test is the Wilcoxon signed-rank test for paired samples. For a discussion on choosing between the t and nonparametric alternatives, see Sawilowsky.
One-way analysis of variance generalizes the two-sample "t"-test when the data belong to more than two groups.
Multivariate testing.
A generalization of Student's "t" statistic, called Hotelling's T-square statistic, allows for the testing of hypotheses on multiple (often correlated) measures within the same sample. For instance, a researcher might submit a number of subjects to a personality test consisting of multiple personality scales (e.g. the Minnesota Multiphasic Personality Inventory). Because measures of this type are usually highly correlated, it is not advisable to conduct separate univariate "t"-tests to test hypotheses, as these would neglect the covariance among measures and inflate the chance of falsely rejecting at least one hypothesis (Type I error). In this case a single multivariate test is preferable for hypothesis testing. Hotelling's "T" 2 statistic follows a "T" 2 distribution. However, in practice the distribution is rarely used, and instead converted to an "F" distribution.
One-sample "T" 2 test.
where "n" is the sample size, formula_38 is the vector of column means and formula_39 is a formula_40 sample covariance matrix.
Two-sample "T" 2 test.
For a two-sample multivariate test, the hypothesis is that the mean vectors (formula_41, formula_42) of two samples are equal. The test statistic is defined as
Software implementations.
Most spreadsheet programs and statistics packages, such as QtiPlot, OpenOffice.org Calc, LibreOffice Calc, Microsoft Excel, SAS, SPSS, Stata, DAP, gretl, R, Python ([http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html]), PSPP, and Minitab, include implementations of Student's "t"-test.
